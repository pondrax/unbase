import{s as Y,n as M,c as P,o as Z,a as Q}from"./scheduler.776094f6.js";import{S as $,i as tt,e as p,t as R,s as N,c as v,a as m,b as j,d as h,f as O,g as _,n as B,h as J,j as r,m as et,k as w,o as at,q as U}from"./index.e335023c.js";import{e as F}from"./each.e59479a4.js";import{l as A,d as lt}from"./db.36096a15.js";import{t as rt}from"./lang.cf9d6496.js";function G(f,t,a){const e=f.slice();return e[4]=t[a],e}function it(f){const t=f.slice(),a=Object.entries(t[4].options).map(([e,s])=>({name:e,id:s}));return t[7]=a,t}function W(f){let t,a,e,s=f[4].code+"",o,i,d,g=(f[4].meta.level||"")+"",E,q,D,y=f[4].question+"",k,V,T,c=JSON.stringify(f[4].options)+"",u,S;return{c(){t=p("tr"),a=p("td"),e=p("div"),o=R(s),i=N(),d=p("td"),E=R(g),q=N(),D=p("td"),k=R(y),V=N(),T=p("td"),u=R(c),S=N(),this.h()},l(l){t=v(l,"TR",{});var n=m(t);a=v(n,"TD",{"text-center":!0});var I=m(a);e=v(I,"DIV",{});var b=m(e);o=j(b,s),b.forEach(h),I.forEach(h),i=O(n),d=v(n,"TD",{});var H=m(d);E=j(H,g),H.forEach(h),q=O(n),D=v(n,"TD",{});var x=m(D);k=j(x,y),x.forEach(h),V=O(n),T=v(n,"TD",{});var z=m(T);u=j(z,c),z.forEach(h),S=O(n),n.forEach(h),this.h()},h(){_(a,"text-center","")},m(l,n){J(l,t,n),r(t,a),r(a,e),r(e,o),r(t,i),r(t,d),r(d,E),r(t,q),r(t,D),r(D,k),r(t,V),r(t,T),r(T,u),r(t,S)},p(l,n){n&1&&s!==(s=l[4].code+"")&&w(o,s),n&1&&g!==(g=(l[4].meta.level||"")+"")&&w(E,g),n&1&&y!==(y=l[4].question+"")&&w(k,y),n&1&&c!==(c=JSON.stringify(l[4].options)+"")&&w(u,c)},d(l){l&&h(t)}}}function st(f){let t,a,e,s=f[4].code.split("..").at(0)+"",o,i,d,g,E,q=f[4].question+"",D,y,k,V;return{c(){t=p("tr"),a=p("th"),e=p("div"),o=R(s),i=N(),d=p("th"),g=N(),E=p("td"),D=R(q),y=N(),k=p("td"),V=N(),this.h()},l(T){t=v(T,"TR",{sticky:!0,"top-25":!0,"bg-base-b":!0,"h-20":!0});var c=m(t);a=v(c,"TH",{});var u=m(a);e=v(u,"DIV",{"text-center":!0});var S=m(e);o=j(S,s),S.forEach(h),u.forEach(h),i=O(c),d=v(c,"TH",{}),m(d).forEach(h),g=O(c),E=v(c,"TD",{});var l=m(E);D=j(l,q),l.forEach(h),y=O(c),k=v(c,"TD",{}),m(k).forEach(h),V=O(c),c.forEach(h),this.h()},h(){_(e,"text-center",""),_(t,"sticky",""),_(t,"top-25",""),_(t,"bg-base-b",""),_(t,"h-20","")},m(T,c){J(T,t,c),r(t,a),r(a,e),r(e,o),r(t,i),r(t,d),r(t,g),r(t,E),r(E,D),r(t,y),r(t,k),r(t,V)},p(T,c){c&1&&s!==(s=T[4].code.split("..").at(0)+"")&&w(o,s),c&1&&q!==(q=T[4].question+"")&&w(D,q)},d(T){T&&h(t)}}}function X(f){let t;function a(i,d){return i[4].meta.title?st:W}function e(i,d){return d===W?it(i):i}let s=a(f),o=s(e(f,s));return{c(){o.c(),t=U()},l(i){o.l(i),t=U()},m(i,d){o.m(i,d),J(i,t,d)},p(i,d){s===(s=a(i))&&o?o.p(e(i,s),d):(o.d(1),o=s(e(i,s)),o&&(o.c(),o.m(t.parentNode,t)))},d(i){i&&h(t),o.d(i)}}}function ot(f){var S;let t,a,e,s,o=f[2]("audit.indekskami.title")+"",i,d,g,E,q,D,y,k,V,T,c=F(((S=f[0])==null?void 0:S.items)||[]),u=[];for(let l=0;l<c.length;l+=1)u[l]=X(G(f,c,l));return{c(){t=p("div"),a=p("div"),e=p("div"),s=p("h1"),i=R(o),d=N(),g=p("button"),E=p("i"),q=N(),D=p("div"),y=p("div"),k=p("table");for(let l=0;l<u.length;l+=1)u[l].c();this.h()},l(l){t=v(l,"DIV",{});var n=m(t);a=v(n,"DIV",{sticky:!0,"top-0":!0,"z-10":!0,"bg-base-a":!0,"pt-15":!0,"pb-3":!0});var I=m(a);e=v(I,"DIV",{flex:!0,"gap-5":!0});var b=m(e);s=v(b,"H1",{"text-xl":!0});var H=m(s);i=j(H,o),H.forEach(h),d=O(b),g=v(b,"BUTTON",{btn:!0,"aria-label":!0,"p-.5":!0});var x=m(g);E=v(x,"I",{"i-bx-refresh":!0,"animate-reverse":!0}),m(E).forEach(h),x.forEach(h),b.forEach(h),I.forEach(h),q=O(n),D=v(n,"DIV",{"bg-base":!0});var z=m(D);y=v(z,"DIV",{});var C=m(y);k=v(C,"TABLE",{table:!0});var K=m(k);for(let L=0;L<u.length;L+=1)u[L].l(K);K.forEach(h),C.forEach(h),z.forEach(h),n.forEach(h),this.h()},h(){_(s,"text-xl",""),_(E,"i-bx-refresh",""),_(E,"animate-reverse",""),B(E,"animate-spin",f[1]),_(g,"btn","~ sm circle outline"),_(g,"aria-label","Refresh"),_(g,"p-.5",""),_(e,"flex",""),_(e,"gap-5",""),_(a,"sticky",""),_(a,"top-0",""),_(a,"z-10",""),_(a,"bg-base-a",""),_(a,"pt-15",""),_(a,"pb-3",""),_(k,"table",""),B(k,"opacity-50",f[1]),_(D,"bg-base","")},m(l,n){J(l,t,n),r(t,a),r(a,e),r(e,s),r(s,i),r(e,d),r(e,g),r(g,E),r(t,q),r(t,D),r(D,y),r(y,k);for(let I=0;I<u.length;I+=1)u[I]&&u[I].m(k,null);V||(T=et(g,"click",f[3]),V=!0)},p(l,[n]){var I;if(n&4&&o!==(o=l[2]("audit.indekskami.title")+"")&&w(i,o),n&2&&B(E,"animate-spin",l[1]),n&1){c=F(((I=l[0])==null?void 0:I.items)||[]);let b;for(b=0;b<c.length;b+=1){const H=G(l,c,b);u[b]?u[b].p(H,n):(u[b]=X(H),u[b].c(),u[b].m(k,null))}for(;b<u.length;b+=1)u[b].d(1);u.length=c.length}n&2&&B(k,"opacity-50",l[1])},i:M,o:M,d(l){l&&h(t),at(u,l),V=!1,T()}}}function nt(f,t,a){let e,s;P(f,A,d=>a(1,e=d)),P(f,rt,d=>a(2,s=d));let o;Z(async()=>{await i()});async function i(){Q(A,e=!0,e),a(0,o=await lt.collection("templatesQuestions").getList(1,300,{filter:"",expand:"auditsDetails(question)",sort:"code",requestKey:"ikami"})),setTimeout(()=>Q(A,e=!1,e),500)}return[o,e,s,i]}class _t extends ${constructor(t){super(),tt(this,t,nt,ot,Y,{})}}export{_t as default};
